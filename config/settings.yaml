# ─────────────────────────────────────────────────────────────────────────────
# 1. Paths & PDF-parsing options
# ─────────────────────────────────────────────────────────────────────────────
paths:
  pdf_directory:       "data/pdfs/"           # where raw PDFs live
  processed_data_dir:  "data/processed/"      # one sub-dir per manual
  page_images_subdir:  "page_imgs"            # PNGs rendered from pages

options:
  export_images: true        # save PNGs while parsing
  image_scale:   2.0         # 1 = native DPI, 2 ≈ 300 dpi

qc_thresholds:
  blank_ratio_warn:  0.20    # warn if >20 % pages blank
  avg_tokens_warn:   40      # warn if tokens/page < 40

# ─────────────────────────────────────────────────────────────────────────────
# 2. Generation & filtering pipeline
# ─────────────────────────────────────────────────────────────────────────────
pipeline:
  overgen_factor: 4
  dup_threshold: 0.90        # SBERT cosine sim
  ragas_threshold: 0.80
  judge_threshold: 4
  final_dataset_size: 35

models:
  embed: "sentence-transformers/all-MiniLM-L6-v2"
  generation: "gemini-2.5-pro-exp-03-25"
  step_parsing: "gemini-2.5-flash-preview-04-17"
  judge: "gpt-4.1"

# ─────────────────────────────────────────────────────────────────────────────
# 3. Quotas per manual  (35 rows total)
# ─────────────────────────────────────────────────────────────────────────────
quotas:
  # Target number of questions per category in the final dataset
  category_targets:
    Specification Lookup: 5
    Tool/Material Identification: 5
    Procedural Step Inquiry: 5
    Location/Definition: 5
    Conditional Logic/Causal Reasoning: 5
    Safety Information Lookup: 5
    Unanswerable: 5

# ─────────────────────────────────────────────────────────────────────────────
# 4. Audit-sampling parameters  (Stage 2-7)
# ─────────────────────────────────────────────────────────────────────────────
audit:
  audit_fraction: 0.30
  # Final-check thresholds
  kappa_min:             0.61
  sentinel_accuracy_threshold: 0.80

# ─────────────────────────────────────────────────────────────────────────────
# 5. File-naming suffixes
# ─────────────────────────────────────────────────────────────────────────────
files:
  # Path relative to the main project directory (where config/ and src/ reside)
  master_prompt: "master_prompt.txt"
  # Suffixes for generated files (relative to input file location)
  raw_output_suffix: "_raw_output.txt"
  candidate_suffix: "_candidates.pkl"
  stats_suffix: "_stats.json"
  audit_suffix_a: "_audit_A.csv"
  audit_suffix_b: "_audit_B.csv"
  gold_dataset_suffix: "_gold.csv"

# ─────────────────────────────────────────────────────────────────────────────
# 6. External-API pacing
# ─────────────────────────────────────────────────────────────────────────────
api_params:
  judge_delay_seconds: 0.5   # Delay between OpenAI Judge/Verifier calls
  max_parse_retries: 5       # Max retries for step parsing LLM call on failure/rate limit
  retry_delay_seconds: 60    # Wait time (sec) on API rate limit errors
